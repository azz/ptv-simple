<h1>Next departures from 🏡 <u>Home</u> to 🏢 <u>Work</u></h1>

<% @options.each do |option| %>
  <% route_type = Ptv.route_type_name(option.stop.route_type) %>
  <% route_type_slug = route_type.downcase %>
  <section class="bg-<%= route_type_slug %> card flex">
    <%= image_tag(route_type_slug + '.svg', width: 24, class: 'mr-2') %>
    <div>
      <p>
        The next
        <%= option.departures.length %>
        <strong><%= route_type %></strong>
        <%= 'departure'.pluralize(option.departures.length) %>
        from
        <u><%= option.stop.stop_name %></u>
        towards
        <u><%= option.departures.first.direction.direction_name %></u>
        are:
      </p>
      <ul>
        <% option.departures.each do |departure| %>
          <li>
            in
            <strong><%= time_ago_in_words(departure.departure_at) %></strong>
            (<%= departure.departure_at.to_fs(:short) %>)
            <% if departure.platform_number %>
              on platform
              <%= departure.platform_number %>
            <% end %>
          </li>
        <% end %>
      </ul>
    </div>
  </section>
<% end %>
